{"version":3,"sources":["../../src/pages/home/backlog/backlog.module.ts","../../src/pages/home/backlog/backlogService.ts","../../src/pages/home/backlog/backlog.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AACc;AAclD;IAAA;IAA6B,CAAC;IAAjB,aAAa;QAZzB,uEAAQ,CAAC;YACN,YAAY,EAAE;gBACV,yDAAO;aACV;YACD,OAAO,EAAE;gBACL,sEAAe,CAAC,QAAQ,CAAC,yDAAO,CAAC;aACpC;YACD,OAAO,EAAE;gBACL,yDAAO;aACV;YACD,SAAS,EAAE,CAAC,uEAAc,CAAC;SAC9B,CAAC;OACW,aAAa,CAAI;IAAD,oBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACjBiB;AAEZ;AAC/B,mCAAmC;AAC0B;AAG7D;IAMI,wBAAmB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAL3C,WAAM,GAAW;YACb,OAAO,EAAE,CAAC;YACV,IAAI,EAAE,CAAC,CAAC,MAAM;SACjB,CAAC;IAGF,CAAC;IAED,uCAAc,GAAd,UAAe,KAAM;QACjB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACxG,CAAC;IAED,oCAAW,GAAX,UAAY,KAAM;QACd,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACxG,CAAC;IAED,gCAAO,GAAP,UAAQ,KAAM;QACV,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5G,CAAC;IAED,mCAAU,GAAV,UAAW,KAAM;QACb,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5G,CAAC;IAED,oCAAW,GAAX,UAAY,KAAM;QACd,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC7G,CAAC;IA3BQ,cAAc;QAD1B,yEAAU,EAAE;yCAOuB,2EAAW;OANlC,cAAc,CAqC1B;IAAD,qBAAC;CAAA;AArC0B;;;;;;;;;;;;;;;;;;;;;;ACPe;AAC0B;AAEpE,mEAAmE;AACjB;AAClD;;;;;GAKG;AAOH;IASI,iBAAmB,OAAsB,EACtB,SAAoB,EACnB,cAA8B;QAF/B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,mBAAc,GAAd,cAAc,CAAgB;QAVlD,SAAI,GAAW,SAAS,CAAC;QACzB,WAAM,GAAQ,eAAe,CAAC;QAE9B,UAAK,GAAQ,EAAE,CAAC;QAChB,aAAQ,GAAY,IAAI,CAAC;QAEzB,YAAO,GAAY,KAAK,CAAC;QAKrB,IAAI,CAAC,IAAI,GAAG;YACR,WAAW,EAAE,CAAC;YACd,UAAU,EAAE,EAAE;YACd,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC;YAC/C,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG;SACvD,CAAC;QACH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAED,gCAAc,GAAd;QACI,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;IAC1C,CAAC;IAED,2BAAS,GAAT,UAAU,SAAqB;QAC3B,0BAA0B;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;YAC1B,OAAO;YACP,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACzD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM;YACN,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACd,UAAU,CAAC;gBACP,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACtB,SAAS,CAAC,QAAQ,EAAE,CAAC;YACzB,CAAC,EAAE,IAAI,CAAC,CAAC;QACb,CAAC;IAEL,CAAC;IAED,4BAAU,GAAV;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;gBAC1B,OAAO;gBACP,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM;gBACN,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,CAAC;QACL,CAAC;QAED,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO;YACvB,UAAU,CAAC;gBACP,OAAO,EAAE,CAAC;YACd,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,gCAAc,GAAtB,UAAuB,IAAI;QAA3B,iBAUC;QATG,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,OAAO;YACvD,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,EAAG,CAAC,EAAC;gBAC1C,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACjD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;YAC3D,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,6BAAW,GAAnB,UAAoB,IAAI;QAAxB,iBAUC;QATG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,OAAO;YACpD,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,EAAG,CAAC,EAAC;gBAC1C,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACjD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;YAC3D,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAxFQ,OAAO;QALnB,wEAAS,CAAC;YACP,QAAQ,EAAE,cAAc;YACxB,WAAW,wEAAE,CAAc;WACA;SAC9B,CAAC;6EAU2C;YACX,uEAAS;YACH,IAAc;OAXzC,OAAO,CA0FnB;IAAD,CAAC;AAAA;SA1FY,OAAO,mB","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Backlog } from './backlog';\r\nimport { BacklogService } from \"./backlogService\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        Backlog,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(Backlog),\r\n    ],\r\n    exports: [\r\n        Backlog\r\n    ],\r\n    providers: [BacklogService]\r\n})\r\nexport class BacklogModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/backlog/backlog.module.ts","import { Injectable } from '@angular/core';\r\nimport { Response } from \"@angular/http\";\r\nimport 'rxjs/add/operator/map';\r\n// import {Observable} from \"rxjs\";\r\nimport { HttpService } from \"../../../providers/HttpService\";\r\n\r\n@Injectable()\r\nexport class BacklogService {\r\n    Status: object = {\r\n        notdone: 0, // 未办理\r\n        done: 1 // 已办理\r\n    };\r\n\r\n    constructor(public httpService: HttpService) {\r\n    }\r\n\r\n    getNotDoneList(param?) { // uid, PageIndex, PageSize, Status\r\n        return this.httpService.postFormData('/ashx/TodoLs.ashx', param).map((res: Response) => res.json());\r\n    }\r\n\r\n    getDoneList(param?) {\r\n        return this.httpService.postFormData('/ashx/TodoLs.ashx', param).map((res: Response) => res.json());\r\n    }\r\n\r\n    getDone(param?) {// id\r\n        return this.httpService.postFormData('/ashx/TodoDetail.ashx', param).map((res: Response) => res.json());\r\n    }\r\n\r\n    getNotDone(param?) {// id\r\n        return this.httpService.postFormData('/ashx/TodoDetail.ashx', param).map((res: Response) => res.json());\r\n    }\r\n\r\n    TodoApprove(param?) {// ISPass\r\n        return this.httpService.postFormData('/ashx/TodoApprove.ashx', param).map((res: Response) => res.json());\r\n    }\r\n\r\n    //   getInboxList(param?):Observable<any>{\r\n    //       return this.httpService.postFormData(\"url\",param).map((res: Response) => res.json());\r\n    //   }\r\n\r\n    //   getOutboxList(param?):Observable<any> {\r\n    //     return this.httpService.postFormData(\"url\",param).map((res: Response) => res.json());\r\n    //   }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/backlog/backlogService.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Refresher } from 'ionic-angular';\n\n// import { BacklogDetail } from './backlog-detail/backlog-detail';\nimport { BacklogService } from \"./backlogService\";\n/**\n * Generated class for the Backlog page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n    selector: 'page-backlog',\n    templateUrl: 'backlog.html',\n    providers: [BacklogService]\n})\nexport class Backlog {\n    work: string = \"notDone\";\n    nxPage: any = \"BacklogDetail\";\n    params: any;\n    items: any = [];\n    moredata: boolean = true;\n    data: any;\n    isEmpty: boolean = false;\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                private backlogService: BacklogService) {\n        this.data = {\n            \"PageIndex\": 1,\n            \"PageSize\": 10,\n            \"Status\": this.backlogService.Status[\"notdone\"],\n            \"Uid\": this.backlogService.httpService.globalData.Uid\n         };\n        this.getNotDoneList(this.data);\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad Backlog');\n    }\n\n    doRefresh(refresher?: Refresher) {\n        // this.initializeItems();\n        this.moredata = true;\n        this.data.PageIndex = 1;\n        this.items = [];\n        if (this.work === \"notDone\") {\n            // ....\n            this.data.Status = this.backlogService.Status[\"notdone\"];\n            this.getNotDoneList(this.data);\n        } else {\n            // ...\n            this.data.Status = this.backlogService.Status[\"done\"];\n            this.getDoneList(this.data);\n        }\n        if (!!refresher) {\n            setTimeout(() => {\n                console.log('数据加载完成');\n                refresher.complete();\n            }, 1000);\n        }\n\n    }\n\n    doInfinite(): Promise<any> {\n        if (this.moredata) {\n            if (this.work === \"ontDone\") {\n                // ....\n                this.getNotDoneList(this.data);\n            } else {\n                // ...\n                this.getDoneList(this.data);\n            }\n        }\n\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve();\n            }, 500);\n        });\n    }\n\n    private getNotDoneList(data) {\n        this.backlogService.getNotDoneList(data).subscribe((resJson) => {\n            if (resJson.Result && resJson.Result !== [] ){\n                this.isEmpty = false;\n                this.items = this.items.concat(resJson.Data);\n            } else {\n                this.moredata = false;\n                this.isEmpty = this.data.PageIndex == 1 ? true : false;\n            }\n        });\n    }\n\n    private getDoneList(data) {\n        this.backlogService.getDoneList(data).subscribe((resJson) => {\n            if (resJson.Result && resJson.Result !== [] ){\n                this.isEmpty = false;\n                this.items = this.items.concat(resJson.Data);\n            } else {\n                this.moredata = false;\n                this.isEmpty = this.data.PageIndex == 1 ? true : false;\n            }\n        });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/backlog/backlog.ts"],"sourceRoot":""}