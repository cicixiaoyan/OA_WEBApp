{"version":3,"sources":["../../src/pages/hr-management/contract/contract-list/contract-list.module.ts","../../src/pages/hr-management/contract/contract-service.ts","../../src/pages/hr-management/contract/contract-list/contract-list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACG;AACG;AACsB;AAY5E;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QAXlC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,wEAAgB;aACjB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,wEAAgB,CAAC;gBAC1C,uFAAgB;aACjB;YACD,SAAS,EAAE,CAAC,0EAAe,CAAC;YAC5B,OAAO,EAAE,CAAC,wEAAgB,CAAC;SAC5B,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;AChBQ;AACkB;AAE7D,mDAAmD;AAGnD;IACI,yBAAmB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAC3C,CAAC;IAFQ,eAAe;QAD3B,yEAAU,EAAE;yCAEuB,2EAAW;OADlC,eAAe,CAS3B;IAAD,sBAAC;CAAA;AAT2B;;;;;;;;;;;;;;;;;;;;;;ACNyB;AACkD;AACjD;AAOtD;IAOE,0BAAmB,OAAsB,EACtB,SAAoB,EACnB,WAA8B,EAC9B,eAAgC;QAHjC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QARpD,SAAI,GAAe,EAAE,CAAC;QAEtB,aAAQ,GAAY,IAAI,CAAC;QACzB,YAAO,GAAY,KAAK,CAAC;QAMrB,IAAI,CAAC,IAAI,GAAG;YACV,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG;YACtD,WAAW,EAAE,CAAC;YACd,UAAU,EAAE,CAAC;SACd,CAAC;QACF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAE5B,CAAC;IAGD,yCAAc,GAAd;IAEA,CAAC;IAED,yCAAc,GAAd,UAAe,OAAO;QAAtB,iBAgBC;QAfC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,oBAAoB,EAAE,EAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAC,CAAC,CAAC;QACrF,OAAO,CAAC,OAAO,CAAC;YACd,EAAE,EAAE,OAAO;SACZ,CAAC,CAAC;QACH,OAAO,CAAC,YAAY,CAAC,gBAAM;YACzB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,EAAE,CAAC,CAAC,MAAM,CAAC,EAAC;gBACV,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;gBAC5B,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;gBACzB,IAAI,CAAC,GAAG,GAAI,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC;gBAC5D,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACrB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iCAAM,GAAN,UAAO,EAAE;QACP,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;IAC3E,CAAC;IAED,oCAAS,GAAT,UAAU,SAAoB;QAC5B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxB,UAAU,CAAC;YACP,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAGD,qCAAU,GAAV;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC;QAED,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO;YACvB,UAAU,CAAC;gBACP,OAAO,EAAE,CAAC;YACd,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,kCAAO,GAAf,UAAgB,IAAI;QAClB,IAAI,CAAC,IAAI,GAAG;YACV;gBACE,IAAI,EAAE,GAAG;gBACT,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,KAAK;gBACb,MAAM,EAAE,MAAM;gBACd,gBAAgB,EAAE,YAAY;gBAC9B,cAAc,EAAE,KAAK;gBACrB,QAAQ,EAAE,KAAK,CAAC,OAAO;aACxB;YACD;gBACE,IAAI,EAAE,GAAG;gBACT,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,MAAM;gBACd,gBAAgB,EAAE,YAAY;gBAC9B,cAAc,EAAE,KAAK;gBACrB,QAAQ,EAAE,KAAK,CAAC,OAAO;aACxB;SAEF,CAAC;QACF,8DAA8D;QAC9D,2FAA2F;QAC3F,4BAA4B;QAC5B,4BAA4B;QAC5B,+BAA+B;QAC/B,2CAA2C;QAC3C,WAAW;QACX,6BAA6B;QAC7B,gEAAgE;QAChE,MAAM;QACN,MAAM;IAGR,CAAC;IAzGU,gBAAgB;QAJ5B,wEAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;WACG;SAClC,CAAC;6EAQyC;YACX,wEAAS;YACN,4EAAiB;YACb,aAAe;OAVzC,gBAAgB,CA2G5B;IAAD,CAAC;AAAA;SA3GY,gBAAgB,gB","file":"35.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ContractListPage } from './contract-list';\nimport { ContractService } from '../contract-service';\nimport { ComponentsModule } from '../../../../components/components.module';\n@NgModule({\n  declarations: [\n    ContractListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ContractListPage),\n    ComponentsModule\n  ],\n  providers: [ContractService],\n  exports: [ContractListPage]\n})\nexport class ContractListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hr-management/contract/contract-list/contract-list.module.ts","import { Injectable } from '@angular/core';\nimport { HttpService } from \"../../../providers/HttpService\";\nimport { Observable } from \"rxjs\";\n// import { UserInfo } from \"../../model/UserInfo\";\n\n@Injectable()\nexport class ContractService {\n    constructor(public httpService: HttpService) {\n    }\n\n\n    // login(user): Observable<any> {\n    //     return this.httpService.noTokenPostFormData(\"ashx/Login.ashx\", user).map(responce => responce.json());\n    // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hr-management/contract/contract-service.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, PopoverController ,\n  Refresher, ViewController } from 'ionic-angular';\nimport { ContractService } from '../contract-service';\n\n@IonicPage()\n@Component({\n  selector: 'page-contract-list',\n  templateUrl: 'contract-list.html',\n})\nexport class ContractListPage {\n\n  list: Array<any> = [];\n  data: any;\n  moredata: boolean = true;\n  isEmpty: boolean = false;\n  search: any;\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private popoverCtrl: PopoverController,\n              private contractService: ContractService) {\n      this.data = {\n        \"uid\": this.contractService.httpService.globalData.Uid,\n        \"PageIndex\": 0,\n        \"PageSize\": 8\n      };\n      this.getList(this.data);\n\n  }\n\n\n  ionViewDidLoad() {\n\n  }\n\n  presentPopover(myEvent) {\n    let popover = this.popoverCtrl.create(\"ContractSearchPage\", {\"search\": this.search});\n    popover.present({\n      ev: myEvent\n    });\n    popover.onDidDismiss(search => {\n      console.log(search);\n      if (search){\n        this.search = search.search;\n        let data = search.search;\n        data.uid =  this.contractService.httpService.globalData.Uid;\n        data.PageIndex = 0;\n        data.PageSize = 8;\n        this.getList(data);\n      }\n    });\n  }\n\n  doRead(id) {\n    this.navCtrl.push(\"ContractSettingPage\", { \"Id\": id, 'readOnly': true });\n  }\n\n  doRefresh(refresher: Refresher) {\n    this.list = [];\n    this.data.PageIndex = 1;\n    this.getList(this.data);\n    setTimeout(() => {\n        refresher.complete();\n    }, 1000);\n  }\n\n\n  doInfinite(): Promise<any> {\n      if (this.moredata) {\n          this.data.PageIndex++;\n          this.getList(this.data);\n      }\n\n      return new Promise((resolve) => {\n          setTimeout(() => {\n              resolve();\n          }, 500);\n      });\n  }\n\n  private getList(data){\n    this.list = [\n      {\n        \"Id\": \"1\",\n        \"Name\": '张三', // 员工姓名\n        \"Dept\": '检验科', // 员工部门\n        \"Type\": '劳动合同', // 合同类型\n        \"ContractNumber\": \"A012345677\", // 合同编号\n        \"TurnPositive\": '已转正', // 是否转正\n        \"Status\": '生效中' // 合同状态\n      },\n      {\n        \"Id\": \"2\",\n        \"Name\": '李四', // 员工姓名\n        \"Dept\": '其他', // 员工部门\n        \"Type\": '劳动合同', // 合同类型\n        \"ContractNumber\": \"A012345688\", // 合同编号\n        \"TurnPositive\": '未转正', // 是否转正\n        \"Status\": '试用中' // 合同状态\n      },\n\n    ];\n    // this.contractService.getList(data).subscribe((resJson) => {\n    //   if (resJson.Result  &&  resJson.Data.length !== 0 && (resJson.Data instanceof Array)){\n    //     this.moredata = true;\n    //     this.isEmpty = false;\n    //     let list = resJson.Data;\n    //     this.list = [...this.list, ...list];\n    //   }else{\n    //     this.moredata = false;\n    //     this.isEmpty = (this.data.PageIndex == 1) ? true : false;\n    //   }\n    // });\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hr-management/contract/contract-list/contract-list.ts"],"sourceRoot":""}