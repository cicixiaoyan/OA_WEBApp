<ion-header>

    <ion-navbar>
        <ion-title>基本资料</ion-title>
    </ion-navbar>

</ion-header>


<ion-content style="background: #f4f4f4;">

    <form [formGroup]="baseForm" (ngSubmit)="sent(baseForm.value)" [ngClass]="{'form-readonly': readOnly}">
        <div padding text-center class="light-bg">
            <img (click)="addPhoto()" class="photo" [src]="photoSrc" alt="" round>
            <!-- <div>
                <button type="button" ion-button color="energized" (click)="addPhoto()" small outline>修改</button>
                <button type="button" (click)="deletePhoto()" ion-button color="danger" small outline>删除</button>
            </div> -->
        </div>
        <ion-list [ngClass]="{'collapsed': hideOne, 'expanded': !hideOne}">
            <ion-list-header (click)="shrink('one')">基本信息
                <ion-icon float-right name="arrow-forward"></ion-icon>
            </ion-list-header>
            <div>
                <ion-item>
                    <ion-label>工号<span class="optional">（必填）</span></ion-label>
                    <ion-input text-right formControlName="BasicNum" placeholder="请输入工号"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicNum.invalid && (formCtrls.BasicNum.touched || formCtrls.BasicNum.dirty )">
                    <div *ngIf="baseForm.hasError('required', 'BasicNum')">员工工号必填</div>
                    <div *ngIf="baseForm.hasError('maxlength', 'BasicNum')">最多输入20个字</div>
                </div>
                <ion-item>
                    <ion-label>姓名<span class="optional">（必填）</span></ion-label>
                    <ion-input text-right formControlName="BasicName" placeholder="请输入姓名"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicName.invalid && (formCtrls.BasicName.touched || formCtrls.BasicName.dirty )">
                    <div *ngIf="baseForm.hasError('required', 'BasicName')">姓名必填</div>
                    <div *ngIf="baseForm.hasError('maxlength', 'BasicName')">最多输入10个字</div>
                </div>
                <ion-item>
                    <ion-label>性别<span class="optional">（必填）</span></ion-label>
                    <ion-select formControlName="BasicSex" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option value="男">男</ion-option>
                        <ion-option value="女">女</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label>出生日期<span class="optional">（必填）</span></ion-label>
                    <ion-datetime formControlName="BasciBirth" placeholder="点击设置" cancelText="取消" doneText="确定" displayFormat="YYYY-MM-DD" pickerFormat="YYYY MM DD"></ion-datetime>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasciBirth.invalid && formCtrls.BasciBirth.touched">出生日期必选</div>
                <ion-item>
                    <ion-label>籍贯</ion-label>
                    <ion-input text-right formControlName="BasicFrom" placeholder="输入籍贯"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicFrom.invalid && (formCtrls.BasicFrom.touched || formCtrls.BasicFrom.dirty )">
                    最多可输入12个字
                </div>
                <ion-item>
                    <ion-label>民族<span class="optional">（必填）</span></ion-label>
                    <ion-select formControlName="BasicNation" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option *ngFor="let option of nationLs" [value]="option.id">{{option.name}}</ion-option>
                    </ion-select>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicNation.invalid && formCtrls.BasicNation.touched">民族必选</div>
                <ion-item>
                    <ion-label>入党时间</ion-label>
                    <ion-datetime formControlName="BasicPartyDate" placeholder="点击设置" cancelText="取消" doneText="确定" displayFormat="YYYY-MM-DD" pickerFormat="YYYY MM DD"></ion-datetime>
                </ion-item>
                <ion-item>
                    <ion-label>政治面貌</ion-label>
                    <ion-select formControlName="BasicOutlook" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option value="党员">党员</ion-option>
                        <ion-option value="中共党员">中共党员</ion-option>
                        <ion-option value="农工党员">农工党员</ion-option>
                        <ion-option value="致工党员">致工党员</ion-option>
                        <ion-option value="团员">团员</ion-option>
                        <ion-option value="预备党员">预备党员</ion-option>
                        <ion-option value="民主党派">民主党派</ion-option>
                        <ion-option value="群众">群众</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label>身份证号</ion-label>
                    <ion-input text-right formControlName="BasicIDCard" placeholder="输入身份证号"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicIDCard.invalid && (formCtrls.BasicIDCard.touched || formCtrls.BasicIDCard.dirty )">
                    请输入合法的身份证号
                </div>
                <ion-item>
                    <ion-label>员工状态</ion-label>
                    <ion-select formControlName="BasicStatus" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option value="在职">在职</ion-option>
                        <ion-option value="离职">离职</ion-option>
                    </ion-select>
                </ion-item>
            </div>
        </ion-list>

        <ion-list [ngClass]="{'collapsed': hideTwo, 'expanded': !hideTwo}">
            <ion-list-header (click)="shrink('two')">个人情况
                <ion-icon float-right name="arrow-forward"></ion-icon>
            </ion-list-header>
            <div>
                <ion-item>
                    <ion-label>第一学历<span class="optional">（必填）</span></ion-label>
                    <ion-select formControlName="BasicFirstEduation" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option value="小学">小学</ion-option>
                        <ion-option value="初中">初中</ion-option>
                        <ion-option value="高中">高中</ion-option>
                        <ion-option value="中专">中专</ion-option>
                        <ion-option value="大专">大专</ion-option>
                        <ion-option value="本科">本科</ion-option>
                        <ion-option value="硕士研究生">硕士研究生</ion-option>
                        <ion-option value="博士研究生">博士研究生</ion-option>
                    </ion-select>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicFirstEduation.invalid && formCtrls.BasicFirstEduation.touched">第一学历必填</div>
                <ion-item>
                    <ion-label>毕业日期</ion-label>
                    <ion-datetime formControlName="BasicFirstGraduaiton" placeholder="点击设置" cancelText="取消" doneText="确定" displayFormat="YYYY-MM-DD" pickerFormat="YYYY MM DD"></ion-datetime>
                </ion-item>
                <ion-item>
                    <ion-label>毕业学校</ion-label>
                    <ion-input text-right formControlName="BasicFirstGraduationSchool" placeholder="输入毕业学校"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicFirstGraduationSchool.invalid && (formCtrls.BasicFirstGraduationSchool.touched || formCtrls.BasicFirstGraduationSchool.dirty )">最多可输入30个字</div>
                <ion-item>
                    <ion-label>专业</ion-label>
                    <ion-select formControlName="BasicFirstMajor" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option *ngFor="let option of majorLs" [value]="option.id">{{option.name}}</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label>第二学历</ion-label>
                    <ion-select formControlName="BasicSecondEduation" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option value="小学">小学</ion-option>
                        <ion-option value="初中">初中</ion-option>
                        <ion-option value="高中">高中</ion-option>
                        <ion-option value="中专">中专</ion-option>
                        <ion-option value="大专">大专</ion-option>
                        <ion-option value="本科">本科</ion-option>
                        <ion-option value="硕士研究生">硕士研究生</ion-option>
                        <ion-option value="博士研究生">博士研究生</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label>毕业学校</ion-label>
                    <ion-input text-right formControlName="BasicSecondGradutionSchool" placeholder="输入第二学历毕业学校"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicSecondGradutionSchool.invalid && (formCtrls.BasicSecondGradutionSchool.touched || formCtrls.BasicSecondGradutionSchool.dirty )">最多可输入30个字</div>
                <ion-item>
                    <ion-label>学位</ion-label>
                    <ion-select formControlName="BasicAcademic" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option value="学士">学士</ion-option>
                        <ion-option value="硕士">硕士</ion-option>
                        <ion-option value="博士">博士</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label>户口所在地</ion-label>
                    <ion-input text-right formControlName="BasicResidence" placeholder="输入户口所在地"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicResidence.invalid && (formCtrls.BasicResidence.touched || formCtrls.BasicResidence.dirty )">
                    最多输入40个字
                </div>
                <ion-item>
                    <ion-label>家庭地址</ion-label>
                    <ion-textarea rows="2" text-right formControlName="BasicFamilyAddr" placeholder="输入家庭地址"></ion-textarea>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicFamilyAddr.invalid && (formCtrls.BasicFamilyAddr.touched || formCtrls.BasicFamilyAddr.dirty )">
                    最多输入40个字
                </div>
                <ion-item>
                    <ion-label>联系电话</ion-label>
                    <ion-input text-right formControlName="BasicContactNumber" placeholder="输入联系电话"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicContactNumber.invalid && (formCtrls.BasicContactNumber.touched || formCtrls.BasicContactNumber.dirty )">
                    请输入合法的电话号码
                </div>
                <ion-item>
                    <ion-label>手机</ion-label>
                    <ion-input text-right formControlName="BasicCellPhone" placeholder="输入手机号码"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicCellPhone.invalid && (formCtrls.BasicCellPhone.touched || formCtrls.BasicCellPhone.dirty )">
                    请输入合法的手机号
                </div>
                <ion-item>
                    <ion-label>电子邮箱</ion-label>
                    <ion-input type="email" text-right formControlName="BasicMail" placeholder="输入邮箱"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicMail.invalid && (formCtrls.BasicMail.touched || formCtrls.BasicMail.dirty )">
                    请输入合法的邮件
                </div>
                <ion-item>
                    <ion-label>所获证书</ion-label>
                    <ion-input text-right formControlName="BasicCertificate" placeholder="输入所获证书"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicCertificate.invalid && (formCtrls.BasicCertificate.touched || formCtrls.BasicCertificate.dirty )">
                    最多输入180个字
                </div>
            </div>
        </ion-list>

        <ion-list [ngClass]="{'collapsed': hideThree, 'expanded': !hideThree}">
            <ion-list-header (click)="shrink('three')">单位信息
                <ion-icon float-right name="arrow-forward"></ion-icon>
            </ion-list-header>
            <div>
                <ion-item>
                    <ion-label>所属部门<span class="optional">（必填）</span></ion-label>
                    <ion-select formControlName="BasicDeptId" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option *ngFor="let option of deptLs" [value]="option.id">{{option.name}}</ion-option>
                    </ion-select>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicDeptId.invalid && (formCtrls.BasicDeptId.touched || formCtrls.BasicDeptId.dirty )">
                    部门必选
                </div>
                <ion-item>
                    <ion-label>职务<span class="optional">（必填）</span></ion-label>
                    <ion-select formControlName="BasicDuty" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option *ngFor="let option of dutyLs" [value]="option.id">{{option.name}}</ion-option>
                    </ion-select>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicDuty.invalid && (formCtrls.BasicDuty.touched || formCtrls.BasicDuty.dirty )">
                    职务必选
                </div>
                <ion-item>
                    <ion-label>职称</ion-label>
                    <ion-select formControlName="BasicTitle" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option *ngFor="let option of titleLs" [value]="option.id">{{option.name}}</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label>职业资格</ion-label>
                    <ion-input text-right formControlName="BasicQualifications" placeholder="输入职业资格"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label>员工档案号</ion-label>
                    <ion-input text-right formControlName="BasciFileNum" placeholder="输入员工档案号"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label>参加工作日<span class="optional">（必填）</span></ion-label>
                    <ion-datetime formControlName="BasicWordDate" placeholder="点击添加" cancelText="取消" doneText="确定" displayFormat="YYYY-MM-DD" pickerFormat="YYYY MM DD"></ion-datetime>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicWordDate.invalid && formCtrls.BasicWordDate.touched">
                    参加工作时间必填
                </div>
                <ion-item>
                    <ion-label>入职日期</ion-label>
                    <ion-datetime formControlName="BasicUnitDate" placeholder="点击添加" cancelText="取消" doneText="确定" displayFormat="YYYY-MM-DD" pickerFormat="YYYY MM DD"></ion-datetime>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicUnitDate.invalid && formCtrls.BasicUnitDate.touched">
                    入职时间必填
                </div>
                <ion-item>
                    <ion-label>员工性质<span class="optional">（必填）</span></ion-label>
                    <ion-select formControlName="BasicNature" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option *ngFor="let option of natureLs" [value]="option.id">{{option.name}}</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label>医疗保险号</ion-label>
                    <ion-input text-right formControlName="BasicInsuranceNum" placeholder="输入医疗保险号"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicInsuranceNum.invalid && (formCtrls.BasicInsuranceNum.touched || formCtrls.BasicInsuranceNum.dirty )">
                    最多可输入16位
                </div>
                <ion-item>
                    <ion-label>养老手册号</ion-label>
                    <ion-input text-right formControlName="BasicHandBookNum" placeholder="输入养老手册号"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicHandBookNum.invalid && (formCtrls.BasicHandBookNum.touched || formCtrls.BasicHandBookNum.dirty )">
                    最多可输入20位
                </div>
                <ion-item>
                    <ion-label>公积金账号</ion-label>
                    <ion-input text-right formControlName="BasicProvidentNum" placeholder="输入公积金账号"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicProvidentNum.invalid && (formCtrls.BasicProvidentNum.touched || formCtrls.BasicProvidentNum.dirty )">
                    最多可输入20位
                </div>
                <ion-item>
                    <ion-label stacked text-left>
                        备注
                    </ion-label>
                    <ion-textarea formControlName="BasicMemo" placeholder="输入备注信息"></ion-textarea>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.BasicMemo.invalid && (formCtrls.BasicMemo.touched || formCtrls.BasicMemo.dirty )">
                    最多可输入180位
                </div>
            </div>
        </ion-list>

        <ion-list [ngClass]="{'collapsed': hideFour, 'expanded': !hideFour}">
            <ion-list-header (click)="shrink('four')">附件上传
                <ion-icon float-right name="arrow-forward"></ion-icon>
            </ion-list-header>
            <div>

                <ion-item *ngFor="let affix of attachLs" (click)="readAffix(affix.PathStr, affix.filename)">
                    <h2>{{affix.filename}}</h2>
                </ion-item>
                <!-- <ion-item text-center>
                    <button type="" icon-left ion-button color="secondary" small outline round><ion-icon name="home"></ion-icon>添加附件</button>
                </ion-item> -->
                <ion-item text-center>
                    <button type="button" (click)="addAffix()" icon-left ion-button color="secondary" small outline round><ion-icon name="home"></ion-icon>添加附件</button>
                </ion-item>
            </div>
        </ion-list>

    </form>

</ion-content>
<ion-footer *ngIf="!readOnly">
    <button ion-button full color="danger" [disabled]="baseForm.invalid" (click)=sent(baseForm.value)>保存</button>
</ion-footer>