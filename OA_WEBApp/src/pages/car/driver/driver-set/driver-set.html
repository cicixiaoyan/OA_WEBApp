<ion-header>

    <ion-navbar>
        <ion-title>{{isWrite ? "添加驾驶员" : "驾驶员详情"}}</ion-title>

    </ion-navbar>

</ion-header>


<ion-content>
    <form [formGroup]="addForm" (ngSubmit)="save(addForm.value)">
        <div>
            <ion-list>
                <ion-item>
                    <ion-label>姓名</ion-label>
                    <ion-input text-right type="text" formControlName="Name" placeholder="请输入"></ion-input>

                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.Name.invalid && (formCtrls.Name.touched || formCtrls.Name.dirty )">
                    <div *ngIf="addForm.hasError('required', 'Name')">姓名必填</div>
                    <div *ngIf="addForm.hasError('maxlength', 'Name')">最多输入10个字</div>
                </div>
                <ion-item>
                    <ion-label>年龄</ion-label>
                    <ion-input text-right type="number" formControlName="Age" placeholder="请输入"></ion-input>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.Age.invalid && (formCtrls.Age.touched || formCtrls.Age.dirty )">
                    <div *ngIf="addForm.hasError('required', 'Age')">必填</div>
                    <div *ngIf="addForm.hasError('maxlength', 'Age')">最大可输200</div>
                </div>
                <ion-item>
                    <ion-label>性别</ion-label>
                    <ion-select text-right formControlName="Sex" cancelText="取消" okText="确定" placeholder="请选择">
                        <ion-option value="男">男</ion-option>
                        <ion-option value="女">女</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                    <ion-label>入职时间</ion-label>
                    <ion-datetime formControlName="InDate" placeholder="点击设置" cancelText="取消" doneText="确定" displayFormat="YYYY-MM-DD" pickerFormat="YYYY MM DD"></ion-datetime>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.InDate.invalid && (formCtrls.InDate.touched || formCtrls.InDate.dirty )">
                    <div *ngIf="addForm.hasError('required', 'InDate')">必填</div>
                    <div *ngIf="addForm.hasError('max', 'InDate')">最大可输200</div>
                </div>
                <ion-item *ngIf="!isWrite">
                    <ion-label>建档</ion-label>
                    <ion-input text-right value="2017/10/9 系统管理员" type="text" placeholder="无"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label stacked>备注</ion-label>
                    <ion-textarea formControlName="Memo" type="text" placeholder="请输入"></ion-textarea>
                </ion-item>
                <div class="validation-failed" *ngIf="formCtrls.Memo.invalid && (formCtrls.Memo.touched || formCtrls.Memo.dirty )">
                    <div *ngIf="addForm.hasError('required', 'Memo')">必填</div>
                    <div *ngIf="addForm.hasError('maxlength', 'Memo')">最多可输180个字</div>
                </div>

            </ion-list>

        </div>
    </form>
    <div padding text-center>
        <button ion-button type="submit" color="danger" [disabled]="addForm.invalid" (click)="save(addForm.value)">保存</button>
        <button *ngIf="!isWrite" (click)="delete()" ion-button type="submit" color="danger">删除</button>
        <button ion-button clear small navPop>关闭</button>
    </div>
</ion-content>