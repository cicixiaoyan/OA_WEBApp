{"version":3,"sources":["../../src/pages/home/contacts/contacts.module.ts","../../src/pages/home/contacts/contacts.ts"],"names":[],"mappings":"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","file":"37.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Contacts } from './contacts';\n\n@NgModule({\n    declarations: [\n        Contacts,\n    ],\n    imports: [\n        IonicPageModule.forChild(Contacts),\n    ],\n    exports: [\n        Contacts\n    ]\n})\nexport class ContactsModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/contacts/contacts.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, Refresher } from 'ionic-angular';\r\nimport { HttpService } from \"../../../providers/HttpService\";\r\n// import { ContactsDetail } from './contacts-detail/contacts-detail';\r\n\r\n/**\r\n * Generated class for the Contacts page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-contacts',\r\n    templateUrl: 'contacts.html',\r\n})\r\nexport class Contacts {\r\n    searchKey: string;\r\n    nxPage: any = \"ContactsDetail\";\r\n    params: any = { id: 42 };\r\n    items;\r\n    page: number = 1;\r\n    size: number = 1;\r\n    moredata: boolean = true;\r\n    isEmpty: boolean = false;\r\n\r\n    constructor(public navCtrl: NavController,\r\n                public navParams: NavParams,\r\n                public httpService: HttpService) {\r\n        this.initializeItems();\r\n\r\n    }\r\n\r\n    doRefresh(refresher: Refresher) {\r\n        this.page = 1;\r\n        this.size = 1;\r\n        this.initializeItems();\r\n        setTimeout(() => {\r\n            console.log('数据加载完成');\r\n            refresher.complete();\r\n        }, 2000);\r\n    }\r\n\r\n    doInfinite(): Promise<any> {\r\n        if (this.moredata) {\r\n            this.size++;\r\n            const data = { page: this.page, size: this.size };\r\n            this.getList(data).subscribe(resJson => {\r\n                if (resJson.Result && resJson.Result !== []){\r\n                    this.items = this.items.concat(resJson.Data);\r\n                } else {\r\n                    this.moredata = false;\r\n                }\r\n            });\r\n        }\r\n        return new Promise((resolve) => {\r\n            setTimeout(() => {\r\n                resolve();\r\n            }, 500);\r\n        });\r\n    }\r\n\r\n    initializeItems() {\r\n        this.getList().subscribe(resJson => {\r\n            if (resJson.Result  && resJson.Data.length !== 0 && typeof(resJson.Data) !== \"string\"){\r\n                this.items = resJson.Data;\r\n                this.isEmpty = false;\r\n            } else {\r\n                this.isEmpty = true;\r\n                this.moredata = false;\r\n                this.httpService.nativeService.showToast(resJson.Data || \"无数据\");\r\n            }\r\n        });\r\n        // let data={action: \"Yh_List\", page: 1, size: 1};\r\n        // this.httpService.postFormData(\"ashx/MailList.ashx/Yh_List\",data)\r\n        //   .map(Response => Response.json())\r\n        //   .subscribe(list => {\r\n        //     this.items = list;\r\n        //   });\r\n\r\n        // 假数据\r\n        // this.items = [\r\n        //        {\"ui_id\":\"admin\",\"ui_desc\":\"系统管理员\",\"ui_sex\":\"男\",\"ui_lx\":\"总部\",\"zwmc\":\"员工\"},\r\n        //        {\"ui_id\":\"admin1\",\"ui_desc\":\"系统管理员1\",\"ui_sex\":\"男\",\"ui_lx\":\"总部\",\"zwmc\":\"员工1\"},\r\n        //        {\"ui_id\":\"admin2\",\"ui_desc\":\"系统管理员2\",\"ui_sex\":\"男\",\"ui_lx\":\"总部\",\"zwmc\":\"员工2\"},\r\n        //        {\"ui_id\":\"admin3\",\"ui_desc\":\"系统管理员3\",\"ui_sex\":\"男\",\"ui_lx\":\"总部\",\"zwmc\":\"员工3\"},\r\n        //     ];\r\n    }\r\n\r\n    private getList(data?) {\r\n        data = !!data ? data : { page: 1, size: 1 };\r\n        return this.httpService.postFormData(\"ashx/UserSheet.ashx\", data).map(Response => Response.json());\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        console.log('ionViewDidLoad Contacts');\r\n    }\r\n\r\n    search(refresher: Refresher) {\r\n        console.log(this.searchKey);\r\n        this.initializeItems();\r\n        return this.httpService.postFormData(\"ashx/UserSheet.ashx\", {\"Name\": this.searchKey})\r\n        .map(Response => Response.json())\r\n        .subscribe((resJson) => {\r\n            if (resJson.Result && resJson.Data.length !== 0 && typeof(resJson.Data) !== \"string\"){\r\n                this.items = resJson.Data;\r\n                this.isEmpty = false;\r\n            }else{\r\n                this.items = [];\r\n                this.isEmpty = true;\r\n                this.moredata = false;\r\n            }\r\n        });\r\n\r\n\r\n        // setTimeout(() => {\r\n        //   console.log('数据加载完成');\r\n        //   refresher.complete();\r\n        // }, 2000);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/contacts/contacts.ts"],"sourceRoot":""}