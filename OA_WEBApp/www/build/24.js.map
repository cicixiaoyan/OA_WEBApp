{"version":3,"sources":["../../src/pages/hr-management/contract/contract-renew/contract-renew.module.ts","../../src/pages/hr-management/contract/contract-service.ts","../../src/pages/hr-management/contract/contract-renew/contract-renew.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ContractRenewPage } from './contract-renew';\nimport { ContractService } from '../contract-service';\nimport { ComponentsModule } from '../../../../components/components.module';\n@NgModule({\n  declarations: [\n    ContractRenewPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ContractRenewPage),\n    ComponentsModule\n  ],\n  providers: [ContractService],\n  exports: [ContractRenewPage]\n})\nexport class ContractRenewPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hr-management/contract/contract-renew/contract-renew.module.ts","import { Injectable } from '@angular/core';\r\nimport { HttpService } from \"../../../providers/HttpService\";\r\nimport { Observable } from \"rxjs\";\r\n// import { UserInfo } from \"../../model/UserInfo\";\r\n\r\n@Injectable()\r\nexport class ContractService {\r\n    constructor(public httpService: HttpService) {\r\n    }\r\n\r\n\r\n    // login(user): Observable<any> {\r\n    //     return this.httpService.noTokenPostFormData(\"ashx/Login.ashx\", user).map(responce => responce.json());\r\n    // }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hr-management/contract/contract-service.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, PopoverController ,\n  Refresher, ViewController } from 'ionic-angular';\nimport { ContractService } from '../contract-service';\n\n@IonicPage()\n@Component({\n  selector: 'page-contract-renew',\n  templateUrl: 'contract-renew.html',\n})\nexport class ContractRenewPage {\n\n  list: Array<any> = [];\n  data: any;\n  moredata: boolean = true;\n  isEmpty: boolean = false;\n  search: any;\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private popoverCtrl: PopoverController,\n              private contractService: ContractService) {\n      this.data = {\n        \"uid\": this.contractService.httpService.globalData.Uid,\n        \"PageIndex\": 0,\n        \"PageSize\": 8\n      };\n      this.getList(this.data);\n\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n  presentPopover(myEvent) {\n    let popover = this.popoverCtrl.create(\"ContractSearchSeparatePage\", {\"search\": this.search, 'name': '续签'});\n    popover.present({\n      ev: myEvent\n    });\n    popover.onDidDismiss(search => {\n      console.log(search);\n      if (search){\n        this.search = search.search;\n        let data = search.search;\n        data.uid =  this.contractService.httpService.globalData.Uid;\n        data.PageIndex = 0;\n        data.PageSize = 8;\n        this.getList(data);\n      }\n    });\n  }\n\n  doRead(id) {\n    this.navCtrl.push(\"ContractRenewViewPage\", { \"Id\": id });\n  }\n\n  doWrite() {\n    this.navCtrl.push(\"ContractRenewViewPage\");\n      // let modal = this.modalCtrl.create(\"TrainingMaintenanceSetPage\");\n      // modal.present();\n      // modal.onDidDismiss(data => {\n      //     data && console.log(data);\n      // });\n  }\n\n  delete(index: number){\n    const id = this.list[index].Id;\n    this.list.splice(index, 1);\n  }\n\n  doRefresh(refresher: Refresher) {\n    this.list = [];\n    this.data.PageIndex = 1;\n    this.getList(this.data);\n    setTimeout(() => {\n        refresher.complete();\n    }, 1000);\n  }\n\n  doInfinite(): Promise<any> {\n      if (this.moredata) {\n          this.data.PageIndex++;\n          this.getList(this.data);\n      }\n\n      return new Promise((resolve) => {\n          setTimeout(() => {\n              resolve();\n          }, 500);\n      });\n  }\n\n  private getList(data){\n    this.list = [\n      {\n        \"Id\": \"1\",\n        \"Name\": '张三',\n        \"Code\": \"A012345677\",\n        \"Dept\": '检验科',\n        \"RenewType\": '合同延期',\n        \"RenewDate\": '2017-12-27'\n      },\n      {\n        \"Id\": \"2\",\n        \"Name\": '李四',\n        \"Code\": \"A012345688\",\n        \"Dept\": '其他科',\n        \"RenewType\": '其他原因',\n        \"RenewDate\": '2017-12-27'\n      }\n\n    ];\n    // this.contractService.getList(data).subscribe((resJson) => {\n    //   if (resJson.Result  &&  resJson.Data.length !== 0 && (resJson.Data instanceof Array)){\n    //     this.moredata = true;\n    //     this.isEmpty = false;\n    //     let list = resJson.Data;\n    //     this.list = [...this.list, ...list];\n    //   }else{\n    //     this.moredata = false;\n    //     this.isEmpty = (this.data.PageIndex == 1) ? true : false;\n    //   }\n    // });\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hr-management/contract/contract-renew/contract-renew.ts"],"sourceRoot":""}