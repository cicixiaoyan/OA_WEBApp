{"version":3,"sources":["../../src/pages/mail/mail-write/mail-write.module.ts","../../src/pages/mail/mailService.ts","../../src/directives/directives.module.ts","../../src/directives/autotextarea/autotextarea.ts","../../src/pages/mail/mail-write/mail-write.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACP;AACI;AAC4B;AAczE;IAAA;IAA+B,CAAC;IAAnB,eAAe;QAb3B,uEAAQ,CAAC;YACN,YAAY,EAAE;gBACV,8DAAS;aACZ;YACD,OAAO,EAAE;gBACL,sEAAe,CAAC,QAAQ,CAAC,8DAAS,CAAC;gBACnC,uFAAgB;aACnB;YACD,OAAO,EAAE;gBACL,8DAAS;aACZ;YACD,SAAS,EAAE,CAAC,iEAAW,CAAC;SAC3B,CAAC;OACW,eAAe,CAAI;IAAD,sBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;AClBe;AAEZ;AAE2B;AAG1D;IAYI,qBAAmB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAX3C,eAAU,GAAW;YACjB,KAAK,EAAE,CAAC;YACR,MAAM,EAAE,CAAC,CAAC,MAAM;SACnB,CAAC;QAEF,WAAM,GAAW;YACb,IAAI,EAAE,CAAC;YACP,MAAM,EAAE,CAAC;YACT,GAAG,EAAE,CAAC,CAAC,KAAK;SACf,CAAC;IAGF,CAAC;IAED,kCAAY,GAAZ,UAAa,KAAM;QACf,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;QACvB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACzG,CAAC;IAED,mCAAa,GAAb,UAAc,KAAM;QACpB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACrG,CAAC;IAED,0BAAI,GAAJ,UAAK,KAAK;QACN,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC9G,CAAC;IAED,2BAAK,GAAL,UAAM,KAAM;QACR,eAAe;QACf,mBAAmB;QACnB,eAAe;QACf,SAAS;QACT,iCAAiC;QACjC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACxG,CAAC;IAED,kCAAY,GAAZ,UAAa,KAAK;QACd,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC7G,CAAC;IAED,mCAAa,GAAb,UAAc,KAAM;QAChB,OAAO;QACP,gBAAgB;QAChB,SAAS;QACT,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC1G,CAAC;IAED,yCAAmB,GAAnB,UAAoB,EAAG;QACnB,OAAO;QACP,gBAAgB;QAChB,SAAS;QACT,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,qBAAqB,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACjH,CAAC;IAED,6BAAO,GAAP;QACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAClG,CAAC;IAzDQ,WAAW;QADvB,yEAAU,EAAE;yCAauB,2EAAW;OAZlC,WAAW,CA2DvB;IAAD,kBAAC;CAAA;AA3DuB;;;;;;;;;;;;;;;;;;ACPiB;AAC2B;AAMpE;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAL5B,uEAAQ,CAAC;YACT,YAAY,EAAE,CAAC,yFAAqB,CAAC;YACrC,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,CAAC,yFAAqB,CAAC;SAChC,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;ACPuC;AAKpE;IAaE,+BAAmB,OAAmB;QAAnB,YAAO,GAAP,OAAO,CAAY;QACpC,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;IACnD,CAAC;IAdyC,uCAAO,GAAP,UAAQ,QAA6B;QAC7E,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IACD,6FAA6F;IAC7F,uBAAuB;IACvB,mBAAmB;IACnB,IAAI;IACJ,2CAAW,GAAX,UAAY,OAAO;QACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAMC,wCAAQ,GAAR;QAAA,iBAEC;QADC,UAAU,CAAC,cAAM,YAAI,CAAC,MAAM,EAAE,EAAb,CAAa,EAAE,CAAC,CAAC,CAAC;IACrC,CAAC;IAED,sCAAM,GAAN;QACE,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QAChF,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACnC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QAC/B,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;IACvD,CAAC;IAzByC;QAAzC,2EAAY,CAAC,OAAO,EAAE,CAAC,eAAe,CAAC,CAAC;;yCAAmB,mBAAmB;;wDAE9E;IAHU,qBAAqB;QAHjC,wEAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB,CAAC,qBAAqB;SACjD,CAAC;yCAc4B,iEAAU;OAb3B,qBAAqB,CA4BjC;IAAD,4BAAC;CAAA;AA5BiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACL+B;AACmE;AAEzE;AACM;AACJ;AAEC;AACL;AACyC;AAC9B;AACvB;AACI;AAIjD;;;;;GAKG;AAOH;IAWI,mBAAmB,OAAsB,EACtB,SAAoB,EACpB,eAAsC,EACrC,WAA8B,EAC9B,WAAwB,EACzB,aAA4B,EAC3B,WAAwB,EACxB,SAA0B,EAC1B,YAA0B,EAC1B,QAAwB,EACxB,UAAsB,EACtB,WAAwB,EACxB,WAAwB;QAZzB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,oBAAe,GAAf,eAAe,CAAuB;QACrC,gBAAW,GAAX,WAAW,CAAmB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QACzB,kBAAa,GAAb,aAAa,CAAe;QAC3B,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAiB;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAgB;QACxB,eAAU,GAAV,UAAU,CAAY;QACtB,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QApB5C,cAAS,GAAW,EAAE,CAAC;QACvB,iBAAY,GAAW,EAAE,CAAC;QAC1B,YAAO,GAAW,EAAE,CAAC;QAErB,cAAS,GAAY,KAAK,CAAC;QAkBvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACpC,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;YACtC,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;YACf,KAAK,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;YACjB,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC;YAChB,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SAC7C,CAAC,CAAC;QAEH,2CAA2C;QAC3C,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,WAAW,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAC1B,CAAC;IACL,CAAC;IAED,kCAAc,GAAd;QACI,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAC5C,CAAC;IAED,wBAAI,GAAJ,UAAK,IAAI;QAAT,iBAmBC;QAlBG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,KAAK,GAAI;YACT,gBAAgB,EAAE,IAAI,CAAC,YAAY;YACnC,cAAc,EAAE,IAAI,CAAC,SAAS;YAC9B,OAAO,EAAE,IAAI,CAAC,KAAK;YACnB,SAAS,EAAE,IAAI,CAAC,OAAO;YACvB,OAAO,EAAE,IAAI,CAAC,KAAK;YACnB,KAAK,EAAE,IAAI,CAAC,GAAG;YACf,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG;YAC7B,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI;SACnC,CAAC;QAEF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,UAAC,OAAO;YAC5C,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;gBACxD,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IAEP,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAwDC;QAvDG,IAAI,OAAO,GAAG;YACV,WAAW,EAAE,GAAG;YAChB,YAAY,EAAE,GAAG;SACpB,CAAC;QACF,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC1C,KAAK,EAAE,QAAQ;YACf,OAAO,EAAE;gBACL;oBACI,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACL,KAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,qBAAW;4BACtE,KAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;wBACxC,CAAC,CAAC,CAAC;oBAEP,CAAC;iBACJ,EAAE;oBACC,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACL,KAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,qBAAW;4BAChE,KAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;wBACxC,CAAC,CAAC,CAAC;oBACP,CAAC;iBACJ,EAAE;oBACC,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACL,KAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,iBAAO;4BAChC,IAAI,QAAQ,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC9D,IAAI,UAAU,GAAsB;gCAChC,SAAS,EAAE,MAAM;gCACjB,UAAU,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gCACxD,UAAU,EAAE,gEAAK,CAAC,eAAe,CAAE,QAAQ,CAAE;gCAC7C,SAAS,EAAG;oCACR,YAAY,EAAE,OAAO;iCACxB;gCACD,aAAa,EAAE,KAAK;gCACpB,YAAY,EAAG,MAAM;gCACrB,QAAQ,EAAE,EAAC,OAAO,EAAE,KAAI,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,EAAE,CAAC,EAAC;6BACxD,CAAC;4BACF,IAAI,GAAG,GAAG,SAAS,CAAC,4EAAc,GAAG,wBAAwB,CAAC,CAAC;4BAC/D,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;4BAC5C,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;wBACvD,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;4BACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACrB,CAAC,CAAC,CAAC;oBACP,CAAC;iBACJ,EAAE;oBACC,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAClC,CAAC;iBACJ;aACJ;SACJ,CAAC,CAAC;QACH,WAAW,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED,+BAAW,GAAX,UAAY,OAAO;QAAnB,iBAeC;QAdG,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,qBAAqB,EACvD,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QACpE,OAAO,CAAC,OAAO,CAAC;YACZ,EAAE,EAAE,OAAO;SACd,CAAC,CAAC;QACH,OAAO,CAAC,YAAY,CAAC,cAAI;YACrB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,4DAA4D;gBAC5D,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACtC,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAC,WAAW,EAAE,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC;YAC7D,CAAC;QAEL,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,qCAAiB,GAAzB,UAA0B,WAAW;QACjC,IAAI,CAAC,WAAW,GAAW,WAAW,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,wBAAwB,GAAG,WAAW,CAAC;QACxD,IAAI,OAAO,GAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,gBAAM;YACrD,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACT,IAAI,QAAQ,GAAG,4EAAc,GAAG,MAAM,CAAC,QAAQ,CAAC;gBAChD,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC1B,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAID;;OAEG;IACH,0BAAM,GAAN,UAAO,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,aAAuB;QAArD,iBA+BC;QA9BG,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,KAAK,EAAE,SAAS;YAChB,qBAAqB,EAAE,KAAK;YAC5B,OAAO,EAAE,CAAC,MAAM,CAAC;SACpB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAEhB,IAAM,YAAY,GAAuB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;QAEpE,YAAY,CAAC,UAAU,CAAC,UAAC,KAAoB;YACzC,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;YACvD,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;gBACd,KAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,KAAK,GAAG,QAAQ,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9D,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,GAAG,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;YACxF,CAAC;QACL,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,aAAa,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACvE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAExB,CAAC,EAAE,UAAC,GAAG;YACL,QAAQ;YACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;YACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACT,CAAC;IAED,2BAAO,GAAP;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAvLkD;QAAlD,yEAAS,CAAC,gBAAgB,EAAE,EAAE,IAAI,EAAE,iEAAU,EAAE,CAAC;kCAAU,iEAAU;8CAAC;IAV9D,SAAS;QAJrB,wEAAS,CAAC;YACP,QAAQ,EAAE,iBAAiB;WACG;SACjC,CAAC;6EAY2C;YACX,4EAAS;YACH,yEAAqB;YACxB,4EAAiB;YACjB,+EAAW;YACV,gFAAa;YACd,sEAAW;YACb,kFAAe;YACZ,qEAAY;YAChB,0EAAc;YACZ,iEAAU;YACT,mEAAW;YACX,MAAW;OAvBnC,SAAS,CAoMrB;IAAD,CAAC;AAAA;SApMY,SAAS,oB","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MailWrite } from './mail-write';\nimport { MailService } from \"../mailService\";\nimport { DirectivesModule } from '../../../directives/directives.module';\n@NgModule({\n    declarations: [\n        MailWrite\n    ],\n    imports: [\n        IonicPageModule.forChild(MailWrite),\n        DirectivesModule\n    ],\n    exports: [\n        MailWrite\n    ],\n    providers: [MailService]\n})\nexport class MailWriteModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mail-write/mail-write.module.ts","import { Injectable } from '@angular/core';\nimport { Response } from \"@angular/http\";\nimport 'rxjs/add/operator/map';\nimport { Observable } from 'rxjs/Observable';\nimport { HttpService } from \"../../providers/HttpService\";\n\n@Injectable()\nexport class MailService {\n    mailStatus: object = {\n        inbox: 0, // 收件箱\n        outbox: 1 // 发件箱\n    };\n\n    status: object = {\n        read: 1, // 已读\n        unread: 0, // 未读\n        all: 2 // 全部\n    };\n\n    constructor(public httpService: HttpService) {\n    }\n\n    getInboxList(param?): Observable<any>{\n        console.log(12, param);\n        return this.httpService.postFormData(\"ashx/MailList.ashx\", param).map((res: Response) => res.json());\n    }\n\n    getOutboxList(param?): Observable<any> {\n    return this.httpService.postFormData(\"ashx/MailList.ashx\", param).map((res: Response) => res.json());\n    }\n\n    read(param): Observable<any>{\n        return this.httpService.postFormData(\"ashx/MailGetDetail.ashx\", param).map((res: Response) => res.json());\n    }\n\n    write(param?): Observable<any>{\n        // Uid 当前用户账号id\n        // AcceptUid 接收账号id\n        // Content 发送内容\n        // 返回json\n        // {\"Data\":\"xxx！\",\"Result\":false}\n        return this.httpService.postFormData(\"ashx/MailAdd.ashx\", param).map((res: Response) => res.json());\n    }\n\n    AttachUpload(param): Observable<any>{\n        return this.httpService.postFormData(\"ashx/AttachUpload.ashx\", param).map((res: Response) => res.json());\n    }\n\n    getRecipients(param?): Observable<any>{\n        // 输入参数\n        // Name 输入查询用户名称\n        // 返回json\n        return this.httpService.postFormData(\"ashx/UserSheet.ashx\", param).map((res: Response) => res.json());\n    }\n\n    getRecipientsByDept(id?): Observable<any>{\n        // 输入参数\n        // Name 输入查询用户名称\n        // 返回json\n        return this.httpService.postFormData(\"ashx/UserSheet.ashx\", {DeptId: id}).map((res: Response) => res.json());\n    }\n\n    getDept(): Observable<any> {\n        return this.httpService.postFormData(\"ashx/BmLs.ashx\", {}).map((res: Response) => res.json());\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mailService.ts","import { NgModule } from '@angular/core';\nimport { AutotextareaDirective } from './autotextarea/autotextarea';\n@NgModule({\n\tdeclarations: [AutotextareaDirective],\n\timports: [],\n\texports: [AutotextareaDirective]\n})\nexport class DirectivesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/directives.module.ts","import { Directive, ElementRef, HostListener } from \"@angular/core\";\n\n@Directive({\n  selector: '[autotextarea]' // Attribute selector\n})\nexport class AutotextareaDirective {\n  @HostListener('input', ['$event.target']) onInput(textArea: HTMLTextAreaElement): void {\n    this.adjust();\n  }\n  // @HostListener('change', ['$event.target']) onChange(textArea: HTMLTextAreaElement): void {\n  //   console.log(1234);\n  //   this.adjust();\n  // }\n  ngOnChanges(changes) {\n    console.log(1234);\n    this.adjust();\n}\n\n  constructor(public element: ElementRef) {\n    console.log('Hello AutosizeDirective Directive');\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => this.adjust(), 0);\n  }\n\n  adjust(): void {\n    const textArea = this.element.nativeElement.getElementsByTagName('textarea')[0];\n    textArea.style.overflow = 'hidden';\n    textArea.style.height = 'auto';\n    textArea.style.height = textArea.scrollHeight + 'px';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/autotextarea/autotextarea.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController,\n    AlertController, ActionSheetController, PopoverController } from 'ionic-angular';\n\nimport { GlobalData } from '../../../providers/GlobalData';\nimport { NativeService } from '../../../providers/NativeService';\nimport { FileService } from \"../../../providers/FileService\";\nimport { FileObj } from \"../../../model/FileObj\";\nimport { FILE_SERVE_URL } from \"../../../providers/Constants\";\nimport { FileChooser } from '@ionic-native/file-chooser';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { MailService } from \"../mailService\";\nimport { Utils } from '../../../providers/Utils';\n\n\n\n/**\n * Generated class for the MailWrite page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-mail-write',\n    templateUrl: 'mail-write.html',\n})\nexport class MailWrite {\n    imageBase64: string;\n    affixPath: string;\n    addressee: string = \"\";\n    addresseeIds: string = \"\";\n    attName: string = \"\";\n    fsbt: \"主题\";\n    haveAffix: boolean = false;\n\n    writeForm: FormGroup;\n    @ViewChild(\"popoverContent\", { read: ElementRef }) content: ElementRef;\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                public actionSheetCtrl: ActionSheetController,\n                private popoverCtrl: PopoverController,\n                private fileService: FileService,\n                public nativeService: NativeService,\n                private fileChooser: FileChooser,\n                private alertCtrl: AlertController,\n                private fileTransfer: FileTransfer,\n                private viewCtrl: ViewController,\n                private globalData: GlobalData,\n                private mailService: MailService,\n                private formBuilder: FormBuilder) {\n\n        this.writeForm = this.formBuilder.group({\n            addressee: ['', [Validators.required]],\n            Title: ['', []],\n            Level: [\"普通\", []],\n            Bcc: [false, []],\n            Content: [\"\", [Validators.maxLength(180)]],\n        });\n\n        // console.log(this.navParams.get(\"mail\"));\n        let mail = this.navParams.get(\"mail\");\n        if (typeof (mail) !== \"undefined\") {\n            this.affixPath = mail.yjfj;\n            this.fsbt = mail.jsbt;\n        }\n    }\n\n    ionViewDidLoad() {\n        console.log(\"ionViewDidLoad MailWrite\");\n    }\n\n    sent(data) {\n        console.log(data);\n        let data1 =  {\n            \"AccessPresonId\": this.addresseeIds,\n            \"AccessPerson\": data.addressee,\n            \"Title\": data.Title,\n            \"Content\": data.Content,\n            \"Level\": data.Level,\n            \"Bcc\": data.Bcc,\n            \"AttNo\": this.attName,\n            \"UserId\": this.globalData.Uid,\n            \"UserName\": this.globalData.Name\n        };\n\n        this.mailService.write(data1).subscribe((resJson) => {\n            resJson.Result ? this.nativeService.showToast(\"信息已发送\") :\n            this.nativeService.showToast(resJson.Data);\n        });\n\n    }\n\n    addAffix() {\n        let options = {\n            targetWidth: 400,\n            targetHeight: 400\n        };\n        let actionSheet = this.actionSheetCtrl.create({\n            title: '添加附件选择',\n            buttons: [\n                {\n                    text: '相册',\n                    handler: () => {\n                        this.nativeService.getPictureByPhotoLibrary(options).subscribe(imageBase64 => {\n                            this.getPictureSuccess(imageBase64);\n                        });\n\n                    }\n                }, {\n                    text: '拍照',\n                    handler: () => {\n                        this.nativeService.getPictureByCamera(options).subscribe(imageBase64 => {\n                            this.getPictureSuccess(imageBase64);\n                        });\n                    }\n                }, {\n                    text: '文件',\n                    handler: () => {\n                        this.fileChooser.open().then(fileURL => {\n                            let mimeType = fileURL.toLowerCase().split(\".\").splice(-1)[0];\n                            let pathOption: FileUploadOptions = {\n                                \"fileKey\": \"file\",\n                                \"fileName\": fileURL.substr(fileURL.lastIndexOf('/') + 1),\n                                \"mimeType\": Utils.getFileMimeType( mimeType ),\n                                \"headers\" : {\n                                    \"Connection\": \"close\"\n                                },\n                                \"chunkedMode\": false,\n                                \"httpMethod\" : \"POST\",\n                                \"params\": {\"token\": this.globalData.token, \"type\": 1}\n                            };\n                            let url = encodeURI(FILE_SERVE_URL + \"ashx/AttachUpload.ashx\");\n                            console.log(fileURL, url, pathOption, true);\n                            return this.upload(fileURL, url, pathOption, true);\n                        }).catch(err => {\n                            console.log(err);\n                        });\n                    }\n                }, {\n                    text: '取消',\n                    role: 'cancel',\n                    handler: () => {\n                        console.log('Cancel clicked');\n                    }\n                }\n            ]\n        });\n        actionSheet.present();\n    }\n\n    checkPeople(myEvent) {\n        let popover = this.popoverCtrl.create(\"ContactsPopoverPage\",\n            { addressee: this.addressee, addresseeIds: this.addresseeIds });\n        popover.present({\n            ev: myEvent\n        });\n        popover.onDidDismiss(data => {\n            if (!!data) {\n                console.log(data);\n                // {addressee:this.addressee,addresseeIds:this.addresseeIds}\n                this.addresseeIds = data.addresseeIds;                \n                this.writeForm.patchValue({'addressee': data.addressee});\n            }\n\n        });\n    }\n\n    private getPictureSuccess(imageBase64) {\n        this.imageBase64 = <string>imageBase64;\n        this.affixPath = \"data:image/jpg;base64,\" + imageBase64;\n        let fileObj = <FileObj>{ \"base64\": this.imageBase64 };\n        this.fileService.uploadByBase64(fileObj).subscribe(result => {// 上传图片到文件服务器\n            if (result) {\n                let origPath = FILE_SERVE_URL + result.origPath;\n                console.log(origPath);\n            }\n        });\n    }\n\n\n\n    /**\n     * 上传\n     */\n    upload(fileUrl, url, options, trustAllHosts?: boolean) {\n        let alert = this.alertCtrl.create({\n            title: '上传进度：0%',\n            enableBackdropDismiss: false,\n            buttons: ['后台上传']\n        });\n        alert.present();\n\n        const fileTransfer: FileTransferObject = this.fileTransfer.create();\n\n        fileTransfer.onProgress((event: ProgressEvent) => {\n            let num = Math.floor(event.loaded / event.total * 100);\n            if (num === 100) {\n                alert.dismiss();\n            } else {\n                let title = document.getElementsByClassName('alert-title')[0];\n                title && (title.innerHTML = '上传进度：' + url + event.loaded + \" \" + event.total + '%');\n            }\n        });\n        return fileTransfer.upload(fileUrl, url, options, trustAllHosts).then((data) => {\n            console.log(data);\n            this.haveAffix = true;\n\n          }, (err) => {\n            // error\n            console.log(err);\n          }).catch((err) => {\n            console.log(err);\n            alert.dismiss();\n            this.nativeService.showToast(err);\n          });\n    }\n\n    dismiss() {\n        this.viewCtrl.dismiss();\n    }\n\n\n}\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mail-write/mail-write.ts"],"sourceRoot":""}