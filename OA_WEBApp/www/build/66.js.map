{"version":3,"sources":["../../src/pages/contacts-popover/contacts-popover.module.ts","../../src/pages/contacts-popover/contacts-popover.ts"],"names":[],"mappings":"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","file":"66.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ContactsPopoverPage } from './contacts-popover';\n\n@NgModule({\n  declarations: [\n    ContactsPopoverPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ContactsPopoverPage),\n  ],\n  exports: [ContactsPopoverPage]\n})\nexport class ContactsPopoverPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contacts-popover/contacts-popover.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { Response } from \"@angular/http\";\nimport 'rxjs/add/operator/map';\nimport { Observable } from 'rxjs/Observable';\nimport { HttpService } from '../../providers/HttpService';\n/**\n * Generated class for the ContactsPopoverPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-contacts-popover',\n  templateUrl: 'contacts-popover.html',\n})\nexport class ContactsPopoverPage {\n\n  dept: string;\n  deptItems: any = [];\n  items: any = [];\n  haveAffix: boolean = false;\n  addressee: string;\n  addresseeIds: string;\n  name: string;\n\n  constructor(private navParams: NavParams,\n              public viewCtrl: ViewController,\n              public storage: Storage,\n              public httpService: HttpService) {\n        this.addressee = this.navParams.get(\"addressee\");\n        this.addresseeIds = this.navParams.get(\"addresseeIds\");\n        console.log(this.addressee, this.addresseeIds);\n        this.initializeItems();\n  }\n\n  initializeItems() {\n    this.httpService.postFormData(\"ashx/BmLs.ashx\", {})\n    .map((res: Response) => res.json())\n    .subscribe((resJson) => {\n        if (resJson.Result){\n            this.deptItems = resJson.Data;\n        }\n    });\n    this.search();\n  }\n\n  getItems(ev) {\n      // Reset items back to all of the items\n      this.initializeItems();\n\n      // set val to the value of the ev target\n      let val = ev.target.value;\n      this.name = val;\n      // if the value is an empty string don't filter the items\n      // if (val && val.trim() != '') {\n      //   this.items = this.items.filter((item) => {\n      //     return (item.toLowerCase().indexOf(val.toLowerCase()) > -1);\n      //   });\n      // }\n  }\n\n  getRecipientsByDept(id?){\n      let data = !!id ? {DeptId: id} : {};\n      this.httpService.postFormData(\"ashx/UserSheet.ashx\", data)\n      .map((res: Response) => res.json())\n      .subscribe((result) => {\n          console.log(result);\n          if (result.Result){\n              const idArr = this.addresseeIds.split(\",\");\n\n              this.items = result.Data.map(function (value, index) {\n                  for (let i in idArr) {\n                      if (idArr[i] !== value.Uid) {\n                          Object.assign(value, { checked: false });\n                      } else {\n                          return Object.assign(value, { checked: true });\n\n                      }\n                  }\n                  return value;\n\n              });\n          }\n      });\n  }\n\n  search() {\n      let data = (this.name !== \"\") ? {name: name} : {};\n      this.httpService.postFormData(\"ashx/UserSheet.ashx\", data)\n      .map((res: Response) => res.json())\n      .subscribe((result) => {\n          console.log(result);\n          if (result.Result){\n              const idArr = this.addresseeIds.split(\",\");\n\n              this.items = result.Data.map(function (value, index) {\n                  for (let i in idArr) {\n                      if (idArr[i] !== value.Uid) {\n                          Object.assign(value, { checked: false });\n                      } else {\n                          return Object.assign(value, { checked: true });\n\n                      }\n                  }\n                  return value;\n\n              });\n          }\n      });\n  }\n\n  checkPeople(index: number) {\n      this.items[index].checked = !this.items[index].checked;\n  }\n\n  confirm() {\n      console.log(confirm);\n      this.addressee = \"\";\n      this.addresseeIds = \"\";\n      for (let value of this.items) {\n          if (value.checked) {\n              this.addressee += value.Name + \",\";\n              this.addresseeIds += value.Uid + \",\";\n          }\n      }\n      this.viewCtrl.dismiss({ addressee: this.addressee, addresseeIds: this.addresseeIds });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contacts-popover/contacts-popover.ts"],"sourceRoot":""}