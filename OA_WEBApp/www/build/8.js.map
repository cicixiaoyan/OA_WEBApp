{"version":3,"sources":["../../src/pages/mail/mail-write/mail-write.module.ts","../../src/pages/mail/mailService.ts","../../src/pages/mail/mail-write/mail-write.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACM;AAgBtD;IAAA;IAA+B,CAAC;IAAnB,eAAe;QAd3B,uEAAQ,CAAC;YACN,YAAY,EAAE;gBACV,8DAAS;gBACT,gEAAW;aACd;YACD,OAAO,EAAE;gBACL,sEAAe,CAAC,QAAQ,CAAC,8DAAS,CAAC;gBACnC,sEAAe,CAAC,QAAQ,CAAC,gEAAW,CAAC;aACxC;YACD,OAAO,EAAE;gBACL,8DAAS;gBACT,gEAAW;aACd;SACJ,CAAC;OACW,eAAe,CAAI;IAAD,sBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;AClBe;AAEZ;AAE2B;AAG1D;IAYI,qBAAmB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAX3C,SAAI,GAAW;YACX,KAAK,EAAE,CAAC;YACR,MAAM,EAAE,CAAC,CAAC,MAAM;SACnB,CAAC;QAEF,eAAU,GAAW;YACjB,IAAI,EAAE,CAAC;YACP,MAAM,EAAE,CAAC;YACT,GAAG,EAAE,CAAC,CAAC,KAAK;SACf,CAAC;IAGF,CAAC;IAED,yBAAyB;IACzB,qGAAqG;IACrG,IAAI;IAEJ,0BAA0B;IAC1B,sGAAsG;IACtG,IAAI;IAEJ,kCAAY,GAAZ,UAAa,KAAM;QACf,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;QACvB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACzG,CAAC;IAED,mCAAa,GAAb,UAAc,KAAM;QACpB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACrG,CAAC;IAED,0BAAI,GAAJ,UAAK,EAAE;QACH,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAC,IAAI,EAAE,EAAE,EAAC,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC9G,CAAC;IAED,2BAAK,GAAL,UAAM,KAAM;QACR,eAAe;QACf,mBAAmB;QACnB,eAAe;QACf,SAAS;QACT,iCAAiC;QACjC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACxG,CAAC;IAED,kCAAY,GAAZ,UAAa,KAAK;QACd,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC7G,CAAC;IAED,mCAAa,GAAb,UAAc,KAAM;QAChB,OAAO;QACP,gBAAgB;QAChB,SAAS;QACT,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC1G,CAAC;IAED,yCAAmB,GAAnB,UAAoB,EAAG;QACnB,OAAO;QACP,gBAAgB;QAChB,SAAS;QACT,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,qBAAqB,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACjH,CAAC;IAED,6BAAO,GAAP;QACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAClG,CAAC;IAjEQ,WAAW;QADvB,yEAAU,EAAE;yCAauB,2EAAW;OAZlC,WAAW,CAmEvB;IAAD,kBAAC;CAAA;AAnEuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPyC;AACmE;AAEzE;AACM;AACJ;AAEC;AACL;AAC4B;AACjB;AACvB;AACI;AAIjD;;;;;GAKG;AAuCH;IASI,qBAAoB,SAAoB,EACrB,QAAwB,EACxB,WAAwB;QAFvB,cAAS,GAAT,SAAS,CAAW;QACrB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,gBAAW,GAAX,WAAW,CAAa;QAT3C,cAAS,GAAQ,EAAE,CAAC;QACpB,UAAK,GAAQ,EAAE,CAAC;QAChB,cAAS,GAAY,KAAK,CAAC;QAQvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACjD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACvD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/C,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,qCAAe,GAAf;QACI,sBAAsB;QACtB,wFAAwF;QACxF,wFAAwF;QACxF,wFAAwF;QACxF,wFAAwF;QACxF,wFAAwF;QACxF,wFAAwF;QACxF,uFAAuF;QACvF,KAAK;QATT,iBAuCC;QA5BG,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,UAAC,OAAO;YACzC,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAC;gBAChB,KAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;YAClC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,UAAC,MAAM;YAChD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAC;gBACf,IAAM,OAAK,GAAG,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAE3C,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,KAAK;oBAC/C,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,OAAK,CAAC,CAAC,CAAC;wBAClB,EAAE,CAAC,CAAC,OAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;4BACzB,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;wBAC7C,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;wBAEnD,CAAC;oBACL,CAAC;oBACD,MAAM,CAAC,KAAK,CAAC;gBAEjB,CAAC,CAAC,CAAC;YACP,CAAC;QAEL,CAAC,CAAC,CAAC;IAGP,CAAC;IAED,8BAAQ,GAAR,UAAS,EAAE;QACP,uCAAuC;QACvC,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,wCAAwC;QACxC,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAChB,yDAAyD;QACzD,iCAAiC;QACjC,+CAA+C;QAC/C,mEAAmE;QACnE,QAAQ;QACR,IAAI;IACR,CAAC;IAED,yCAAmB,GAAnB,UAAoB,EAAE;QAAtB,iBAoBC;QAnBG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,EAAC,MAAM,EAAE,EAAE,EAAC,CAAC,CAAC,SAAS,CAAC,UAAC,MAAM;YAChE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAC;gBACf,IAAM,OAAK,GAAG,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAE3C,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,KAAK;oBAC/C,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,OAAK,CAAC,CAAC,CAAC;wBAClB,EAAE,CAAC,CAAC,OAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;4BACzB,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;wBAC7C,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;wBAEnD,CAAC;oBACL,CAAC;oBACD,MAAM,CAAC,KAAK,CAAC;gBAEjB,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAID,4BAAM,GAAN;QAAA,iBAqBE;QAnBE,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC,SAAS,CAAC,UAAC,MAAM;YAC/D,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAC;gBACf,IAAM,OAAK,GAAG,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAE3C,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,KAAK;oBAC/C,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,OAAK,CAAC,CAAC,CAAC;wBAClB,EAAE,CAAC,CAAC,OAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;4BACzB,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;wBAC7C,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;wBAEnD,CAAC;oBACL,CAAC;oBACD,MAAM,CAAC,KAAK,CAAC;gBAEjB,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC,CAAC,CAAC;IACN,CAAC;IAEF,iCAAW,GAAX,UAAY,KAAa;QACrB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC;IAC3D,CAAC;IAED,6BAAO,GAAP;QACI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,GAAG,CAAC,CAAc,UAAU,EAAV,SAAI,CAAC,KAAK,EAAV,cAAU,EAAV,IAAU;YAAvB,IAAI,KAAK;YACV,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,SAAS,IAAI,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC;gBACnC,IAAI,CAAC,YAAY,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;YACzC,CAAC;SACJ;QACD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;IAC1F,CAAC;IAxIQ,WAAW;QArCvB,wEAAS,CAAC;YACP,QAAQ,EAAE,0+CAkCT;SACJ,CAAC;yCAUiC,gEAAS;YACX,qEAAc;YACX,iEAAW;OAXlC,WAAW,CAyIvB;IAAD,kBAAC;CAAA;AAzIuB;AAgJxB;IAaI,mBAAmB,OAAsB,EACtB,SAAoB,EACpB,eAAsC,EACrC,WAA8B,EAC9B,WAAwB,EACzB,aAA4B,EAC3B,WAAwB,EACxB,SAA0B,EAC1B,QAAkB,EAClB,QAAwB,EACxB,UAAsB,EACtB,WAAwB,EACxB,WAAwB;QAZzB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,oBAAe,GAAf,eAAe,CAAuB;QACrC,gBAAW,GAAX,WAAW,CAAmB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QACzB,kBAAa,GAAb,aAAa,CAAe;QAC3B,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAiB;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,eAAU,GAAV,UAAU,CAAY;QACtB,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QArB5C,cAAS,GAAW,EAAE,CAAC;QACvB,iBAAY,GAAW,EAAE,CAAC;QAC1B,YAAO,GAAW,SAAS,CAAC;QAE5B,cAAS,GAAY,KAAK,CAAC;QAmBvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACpC,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;YACtC,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;YACf,KAAK,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;YACjB,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC;YAChB,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SAE7C,CAAC,CAAC;QAEH,2CAA2C;QAC3C,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,WAAW,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAGtB,+BAA+B;YAC/B,uCAAuC;YACvC,mCAAmC;YACnC,4BAA4B;YAC5B,sBAAsB;YACtB,qBAAqB;YACrB,KAAK;QACT,CAAC;IACL,CAAC;IAED,kCAAc,GAAd;QACI,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAC5C,CAAC;IAED,wBAAI,GAAJ,UAAK,IAAI;QAAT,iBA2BC;QA1BG,4DAA4D;QAC5D,wDAAwD;QACxD,0CAA0C;QAC1C,8CAA8C;QAC9C,2CAA2C;QAC3C,sCAAsC;QACtC,0CAA0C;QAC1C,4CAA4C;QAC5C,iDAAiD;QACjD,IAAI,KAAK,GAAI;YACT,gBAAgB,EAAE,IAAI,CAAC,YAAY;YACnC,cAAc,EAAE,IAAI,CAAC,SAAS;YAC9B,OAAO,EAAE,IAAI,CAAC,KAAK;YACnB,SAAS,EAAE,IAAI,CAAC,OAAO;YACvB,OAAO,EAAE,IAAI,CAAC,KAAK;YACnB,KAAK,EAAE,IAAI,CAAC,GAAG;YACf,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG;YAC7B,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI;SACnC,CAAC;QAEF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,OAAO;YAC3C,OAAO,CAAC,MAAM,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC;gBACtD,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IAEP,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAyDC;QAxDG,IAAI,OAAO,GAAG;YACV,WAAW,EAAE,GAAG;YAChB,YAAY,EAAE,GAAG;SACpB,CAAC;QACF,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC1C,KAAK,EAAE,QAAQ;YACf,OAAO,EAAE;gBACL;oBACI,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACL,KAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,qBAAW;4BACtE,KAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;wBACxC,CAAC,CAAC,CAAC;oBAEP,CAAC;iBACJ,EAAE;oBACC,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACL,KAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,qBAAW;4BAChE,KAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;wBACxC,CAAC,CAAC,CAAC;oBACP,CAAC;iBACJ,EAAE;oBACC,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACL,KAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,iBAAO;4BAChC,IAAI,QAAQ,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC9D,KAAK,CAAC,QAAQ,CAAC,CAAC;4BAChB,IAAI,UAAU,GAAsB;gCAChC,SAAS,EAAE,MAAM;gCACjB,UAAU,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gCACxD,UAAU,EAAE,gEAAK,CAAC,eAAe,CAAE,QAAQ,CAAE;gCAC7C,SAAS,EAAG;oCACR,YAAY,EAAE,OAAO;iCACxB;gCACD,aAAa,EAAE,KAAK;gCACpB,YAAY,EAAG,MAAM;gCACrB,QAAQ,EAAE,EAAC,OAAO,EAAE,KAAI,CAAC,UAAU,CAAC,KAAK,EAAC;6BAC7C,CAAC;4BACF,IAAI,GAAG,GAAG,SAAS,CAAC,4EAAc,GAAG,wBAAwB,CAAC,CAAC;4BAC/D,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;4BAC5C,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;wBACvD,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;4BACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACrB,CAAC,CAAC,CAAC;oBACP,CAAC;iBACJ,EAAE;oBACC,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAClC,CAAC;iBACJ;aACJ;SACJ,CAAC,CAAC;QACH,WAAW,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED,+BAAW,GAAX,UAAY,OAAO;QAAnB,iBAeC;QAdG,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,EAC7C,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QACpE,OAAO,CAAC,OAAO,CAAC;YACZ,EAAE,EAAE,OAAO;SACd,CAAC,CAAC;QACH,OAAO,CAAC,YAAY,CAAC,cAAI;YACrB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,4DAA4D;gBAC5D,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAC,WAAW,EAAE,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC;gBACzD,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YAC1C,CAAC;QAEL,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,qCAAiB,GAAzB,UAA0B,WAAW;QACjC,IAAI,CAAC,WAAW,GAAW,WAAW,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,wBAAwB,GAAG,WAAW,CAAC;QACxD,IAAI,OAAO,GAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,gBAAM;YACrD,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACT,IAAI,QAAQ,GAAG,4EAAc,GAAG,MAAM,CAAC,QAAQ,CAAC;gBAChD,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC1B,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAID;;OAEG;IACH,0BAAM,GAAN,UAAO,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,aAAuB;QAArD,iBA+BC;QA9BG,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,KAAK,EAAE,SAAS;YAChB,qBAAqB,EAAE,KAAK;YAC5B,OAAO,EAAE,CAAC,MAAM,CAAC;SACpB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAEhB,IAAM,YAAY,GAAmB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAE5D,YAAY,CAAC,UAAU,CAAC,UAAC,KAAoB;YACzC,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;YACvD,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;gBACd,KAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,KAAK,GAAG,QAAQ,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9D,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,GAAG,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;YACxF,CAAC;QACL,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,aAAa,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACvE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAExB,CAAC,EAAE,UAAC,GAAG;YACL,QAAQ;YACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;YACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACT,CAAC;IAED,2BAAO,GAAP;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IA1MkD;QAAlD,yEAAS,CAAC,gBAAgB,EAAE,EAAE,IAAI,EAAE,iEAAU,EAAE,CAAC;kCAAU,iEAAU;8CAAC;IAZ9D,SAAS;QAJrB,wEAAS,CAAC;YACP,QAAQ,EAAE,iBAAiB;WACG;SACjC,CAAC;6EAc2C;YACX,4EAAS;YACH,yEAAqB;YACxB,4EAAiB;YACjB,+EAAW;YACV,gFAAa;YACd,sEAAW;YACb,yEAAe;YAChB,qEAAQ;YACR,0EAAc;YACZ,iEAAU;YACT,mEAAW;YACX,MAAW;OAzBnC,SAAS,CAyNrB;IAAD,CAAC;AAAA;SAzNY,SAAS,oB","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { MailWrite, PopoverPage } from './mail-write';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        MailWrite,\r\n        PopoverPage\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(MailWrite),\r\n        IonicPageModule.forChild(PopoverPage),\r\n    ],\r\n    exports: [\r\n        MailWrite,\r\n        PopoverPage\r\n    ]\r\n})\r\nexport class MailWriteModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mail-write/mail-write.module.ts","import { Injectable } from '@angular/core';\r\nimport { Response } from \"@angular/http\";\r\nimport 'rxjs/add/operator/map';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { HttpService } from \"../../providers/HttpService\";\r\n\r\n@Injectable()\r\nexport class MailService {\r\n    Mail: object = {\r\n        inbox: 0, // 收件箱\r\n        outbox: 1 // 发件箱\r\n    };\r\n\r\n    mailStatus: object = {\r\n        read: 1, // 已读\r\n        unread: 0, // 未读\r\n        all: 2 // 全部\r\n    };\r\n\r\n    constructor(public httpService: HttpService) {\r\n    }\r\n\r\n    // getInboxList(param?) {\r\n    //     return this.httpService.get('assets/data/mail-inbox.json').map((res: Response) => res.json());\r\n    // }\r\n\r\n    // getOutboxList(param?) {\r\n    //     return this.httpService.get('assets/data/mail-outbox.json').map((res: Response) => res.json());\r\n    // }\r\n\r\n    getInboxList(param?): Observable<any>{\r\n        console.log(12, param);\r\n        return this.httpService.postFormData(\"ashx/MailList.ashx\", param).map((res: Response) => res.json());\r\n    }\r\n\r\n    getOutboxList(param?): Observable<any> {\r\n    return this.httpService.postFormData(\"ashx/MailList.ashx\", param).map((res: Response) => res.json());\r\n    }\r\n\r\n    read(id): Observable<any>{\r\n        return this.httpService.postFormData(\"ashx/MailList.ashx\", {\"id\": id}).map((res: Response) => res.json());\r\n    }\r\n\r\n    write(param?): Observable<any>{\r\n        // Uid 当前用户账号id\r\n        // AcceptUid 接收账号id\r\n        // Content 发送内容\r\n        // 返回json\r\n        // {\"Data\":\"xxx！\",\"Result\":false}\r\n        return this.httpService.postFormData(\"ashx/NewsAdd.ashx\", param).map((res: Response) => res.json());\r\n    }\r\n\r\n    AttachUpload(param): Observable<any>{\r\n        return this.httpService.postFormData(\"ashx/AttachUpload.ashx\", param).map((res: Response) => res.json());\r\n    }\r\n\r\n    getRecipients(param?): Observable<any>{\r\n        // 输入参数\r\n        // Name 输入查询用户名称\r\n        // 返回json\r\n        return this.httpService.postFormData(\"ashx/UserSheet.ashx\", param).map((res: Response) => res.json());\r\n    }\r\n\r\n    getRecipientsByDept(id?): Observable<any>{\r\n        // 输入参数\r\n        // Name 输入查询用户名称\r\n        // 返回json\r\n        return this.httpService.postFormData(\"ashx/UserSheet.ashx\", {DeptId: id}).map((res: Response) => res.json());\r\n    }\r\n\r\n    getDept(): Observable<any> {\r\n        return this.httpService.postFormData(\"ashx/BmLs.ashx\", {}).map((res: Response) => res.json());\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mailService.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController,\n    AlertController, ActionSheetController, PopoverController } from 'ionic-angular';\n\nimport { GlobalData } from '../../../providers/GlobalData';\nimport { NativeService } from '../../../providers/NativeService';\nimport { FileService } from \"../../../providers/FileService\";\nimport { FileObj } from \"../../../model/FileObj\";\nimport { FILE_SERVE_URL } from \"../../../providers/Constants\";\nimport { FileChooser } from '@ionic-native/file-chooser';\nimport { Transfer, FileUploadOptions, TransferObject } from '@ionic-native/transfer';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { MailService } from \"../mailService\";\nimport { Utils } from '../../../providers/Utils';\n\n\n\n/**\n * Generated class for the MailWrite page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n    template: `\n        <ion-list class=\"checkpeople-popover\">\n        <ion-item>\n            <ion-label>部门选择</ion-label>\n            <ion-select [(ngModel)]=\"dept\" submitText=\"确定\" (ngModelChange)=\"getRecipientsByDept(dept)\"\n                cancelText=\"取消\" okText=\"确定\">\n                <ion-option  *ngFor=\"let item of deptItems;let i = index\" [value]=\"item.Id\">\n                    {{item.BmName}}\n                </ion-option>\n            </ion-select>\n        </ion-item>\n        <ion-searchbar color=\"danger\" [(ngModel)]=\"name\"  placeholder=\"请输入编码或姓名\">\n        </ion-searchbar>\n\n        <div text-center>\n            <button (click)=\"search()\" icon-left ion-button small color=\"calm\">\n            <ion-icon name=\"search\"></ion-icon>查询</button>\n\n            <button (click)=\"confirm()\" icon-left ion-button small color=\"calm\">\n            <ion-icon name=\"checkmark\"></ion-icon>确定</button>\n        </div>\n\n        <ion-list-header>\n            通讯录\n        </ion-list-header>\n\n        <ion-item *ngFor=\"let item of items;let i = index\">\n            <ion-label>\n            {{item.Name}}({{item.Uid}})<br>\n            <span>{{item.Dept}}&emsp;{{item.Duty}}</span>\n            </ion-label>\n            <ion-checkbox [checked]=\"item.checked\" (ionChange)=\"checkPeople(i)\"></ion-checkbox>\n        </ion-item>\n        <ion-list>\n    `\n})\nexport class PopoverPage {\n    dept: string;\n    deptItems: any = [];\n    items: any = [];\n    haveAffix: boolean = false;\n    addressee: string;\n    addresseeIds: string;\n    name: string;\n\n    constructor(private navParams: NavParams,\n                public viewCtrl: ViewController,\n                public mailService: MailService) {\n        this.addressee = this.navParams.get(\"addressee\");\n        this.addresseeIds = this.navParams.get(\"addresseeIds\");\n        console.log(this.addressee, this.addresseeIds);\n        this.initializeItems();\n    }\n\n    initializeItems() {\n        // const testArray = [\n        //     { ui_id: \"1\", ui_desc: \"admin1\", bianhao: \"dewr1\", ui_ssbm: \"本部1\", ui_zw: \"职员\" },\n        //     { ui_id: \"2\", ui_desc: \"admin2\", bianhao: \"dewr2\", ui_ssbm: \"本部2\", ui_zw: \"职员\" },\n        //     { ui_id: \"3\", ui_desc: \"admin3\", bianhao: \"dewr3\", ui_ssbm: \"本部3\", ui_zw: \"职员\" },\n        //     { ui_id: \"4\", ui_desc: \"admin4\", bianhao: \"dewr4\", ui_ssbm: \"本部4\", ui_zw: \"职员\" },\n        //     { ui_id: \"5\", ui_desc: \"admin5\", bianhao: \"dewr5\", ui_ssbm: \"本部5\", ui_zw: \"职员\" },\n        //     { ui_id: \"6\", ui_desc: \"admin6\", bianhao: \"dewr6\", ui_ssbm: \"本部6\", ui_zw: \"职员\" },\n        //     { ui_id: \"7\", ui_desc: \"admin7\", bianhao: \"dewr7\", ui_ssbm: \"本部7\", ui_zw: \"职员\" }\n        // ];\n\n        this.mailService.getDept().subscribe((resJson) => {\n            if (resJson.Result){\n                this.deptItems = resJson.Data;\n            }\n        });\n\n        this.mailService.getRecipients({}).subscribe((result) => {\n            console.log(result);\n            if (result.Result){\n                const idArr = this.addresseeIds.split(\",\");\n\n                this.items = result.Data.map(function (value, index) {\n                    for (let i in idArr) {\n                        if (idArr[i] !== value.Uid) {\n                            Object.assign(value, { checked: false });\n                        } else {\n                            return Object.assign(value, { checked: true });\n\n                        }\n                    }\n                    return value;\n\n                });\n            }\n\n        });\n\n\n    }\n\n    getItems(ev) {\n        // Reset items back to all of the items\n        this.initializeItems();\n\n        // set val to the value of the ev target\n        let val = ev.target.value;\n        this.name = val;\n        // if the value is an empty string don't filter the items\n        // if (val && val.trim() != '') {\n        //   this.items = this.items.filter((item) => {\n        //     return (item.toLowerCase().indexOf(val.toLowerCase()) > -1);\n        //   });\n        // }\n    }\n\n    getRecipientsByDept(id){\n        this.mailService.getRecipientsByDept({DeptId: id}).subscribe((result) => {\n            console.log(result);\n            if (result.Result){\n                const idArr = this.addresseeIds.split(\",\");\n\n                this.items = result.Data.map(function (value, index) {\n                    for (let i in idArr) {\n                        if (idArr[i] !== value.Uid) {\n                            Object.assign(value, { checked: false });\n                        } else {\n                            return Object.assign(value, { checked: true });\n\n                        }\n                    }\n                    return value;\n\n                });\n            }\n        });\n    }\n\n\n\n    search() {\n\n        this.mailService.getRecipients({name: this.name}).subscribe((result) => {\n            console.log(result);\n            if (result.Result){\n                const idArr = this.addresseeIds.split(\",\");\n\n                this.items = result.Data.map(function (value, index) {\n                    for (let i in idArr) {\n                        if (idArr[i] !== value.Uid) {\n                            Object.assign(value, { checked: false });\n                        } else {\n                            return Object.assign(value, { checked: true });\n\n                        }\n                    }\n                    return value;\n\n                });\n            }\n        });\n     }\n\n    checkPeople(index: number) {\n        this.items[index].checked = !this.items[index].checked;\n    }\n\n    confirm() {\n        console.log(confirm);\n        this.addressee = \"\";\n        this.addresseeIds = \"\";\n        for (let value of this.items) {\n            if (value.checked) {\n                this.addressee += value.Name + \",\";\n                this.addresseeIds += value.Uid + \",\";\n            }\n        }\n        this.viewCtrl.dismiss({ addressee: this.addressee, addresseeIds: this.addresseeIds });\n    }\n}\n\n@IonicPage()\n@Component({\n    selector: 'page-mail-write',\n    templateUrl: 'mail-write.html',\n})\nexport class MailWrite {\n    // avatarPath: string;\n    imageBase64: string;\n    affixPath: string;\n    addressee: string = \"\";\n    addresseeIds: string = \"\";\n    attName: string = \"109.png\";\n    fsbt: \"主题\";\n    haveAffix: boolean = false;\n\n    writeForm: FormGroup;\n    // mailObj : object = {};\n    @ViewChild(\"popoverContent\", { read: ElementRef }) content: ElementRef;\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                public actionSheetCtrl: ActionSheetController,\n                private popoverCtrl: PopoverController,\n                private fileService: FileService,\n                public nativeService: NativeService,\n                private fileChooser: FileChooser,\n                private alertCtrl: AlertController,\n                private transfer: Transfer,\n                private viewCtrl: ViewController,\n                private globalData: GlobalData,\n                private mailService: MailService,\n                private formBuilder: FormBuilder) {\n\n        this.writeForm = this.formBuilder.group({\n            addressee: ['', [Validators.required]],\n            Title: ['', []],\n            Level: [\"普通\", []],\n            Bcc: [false, []],\n            Content: [\"\", [Validators.maxLength(180)]],\n\n        });\n\n        // console.log(this.navParams.get(\"mail\"));\n        let mail = this.navParams.get(\"mail\");\n        if (typeof (mail) !== \"undefined\") {\n            this.affixPath = mail.yjfj;\n            this.fsbt = mail.jsbt;\n\n\n            // Object.assign(this.mailObj,{\n            //   \"fsrName\":this.globaldata.ui_desc,\n            //   \"fsrID\":this.globaldata.ui_id,\n            //   \"attName\":mail.attName,\n            //   \"fsbt\":mail.jsbt,\n            //   \"yjfj\":mail.yjfj\n            // })\n        }\n    }\n\n    ionViewDidLoad() {\n        console.log(\"ionViewDidLoad MailWrite\");\n    }\n\n    sent(data) {\n        // AccessPresonId= context.Request.Params[\"AccessPresonId\"],\n        // AccessPerson= context.Request.Params[\"AccessPerson\"],\n        // Title= context.Request.Params[\"Title\"],\n        // Content= context.Request.Params[\"Content\"],\n        // Level = context.Request.Params[\"Level\"],\n        // Bcc= context.Request.Params[\"Bcc\"],\n        // AttNo= context.Request.Params[\"AttNo\"],\n        // UserId= context.Request.Params[\"UserId\"],\n        // UserName = context.Request.Params[\"UserName\"],\n        let data1 =  {\n            \"AccessPresonId\": this.addresseeIds,\n            \"AccessPerson\": this.addressee,\n            \"Title\": data.Title,\n            \"Content\": data.Content,\n            \"Level\": data.Level,\n            \"Bcc\": data.Bcc,\n            \"AttNo\": this.attName,\n            \"UserId\": this.globalData.Uid,\n            \"UserName\": this.globalData.Name\n        };\n\n        this.mailService.write(data).subscribe((resJson) => {\n            resJson.Result ? this.nativeService.showToast(\"信息已发送\") :\n            this.nativeService.showToast(resJson.Data);\n        });\n\n    }\n\n    addAffix() {\n        let options = {\n            targetWidth: 400,\n            targetHeight: 400\n        };\n        let actionSheet = this.actionSheetCtrl.create({\n            title: '添加附件选择',\n            buttons: [\n                {\n                    text: '相册',\n                    handler: () => {\n                        this.nativeService.getPictureByPhotoLibrary(options).subscribe(imageBase64 => {\n                            this.getPictureSuccess(imageBase64);\n                        });\n\n                    }\n                }, {\n                    text: '拍照',\n                    handler: () => {\n                        this.nativeService.getPictureByCamera(options).subscribe(imageBase64 => {\n                            this.getPictureSuccess(imageBase64);\n                        });\n                    }\n                }, {\n                    text: '文件',\n                    handler: () => {\n                        this.fileChooser.open().then(fileURL => {\n                            let mimeType = fileURL.toLowerCase().split(\".\").splice(-1)[0];\n                            alert(mimeType);\n                            let pathOption: FileUploadOptions = {\n                                \"fileKey\": \"file\",\n                                \"fileName\": fileURL.substr(fileURL.lastIndexOf('/') + 1),\n                                \"mimeType\": Utils.getFileMimeType( mimeType ),\n                                \"headers\" : {\n                                    \"Connection\": \"close\"\n                                },\n                                \"chunkedMode\": false,\n                                \"httpMethod\" : \"POST\",\n                                \"params\": {\"token\": this.globalData.token}\n                            };\n                            let url = encodeURI(FILE_SERVE_URL + \"ashx/AttachUpload.ashx\");\n                            console.log(fileURL, url, pathOption, true);\n                            return this.upload(fileURL, url, pathOption, true);\n                        }).catch(err => {\n                            console.log(err);\n                        });\n                    }\n                }, {\n                    text: '取消',\n                    role: 'cancel',\n                    handler: () => {\n                        console.log('Cancel clicked');\n                    }\n                }\n            ]\n        });\n        actionSheet.present();\n    }\n\n    checkPeople(myEvent) {\n        let popover = this.popoverCtrl.create(PopoverPage,\n            { addressee: this.addressee, addresseeIds: this.addresseeIds });\n        popover.present({\n            ev: myEvent\n        });\n        popover.onDidDismiss(data => {\n            if (!!data) {\n                console.log(data);\n                // {addressee:this.addressee,addresseeIds:this.addresseeIds}\n                this.writeForm.patchValue({'addressee': data.addressee});\n                this.addresseeIds = data.addresseeIds;\n            }\n\n        });\n    }\n\n    private getPictureSuccess(imageBase64) {\n        this.imageBase64 = <string>imageBase64;\n        this.affixPath = \"data:image/jpg;base64,\" + imageBase64;\n        let fileObj = <FileObj>{ \"base64\": this.imageBase64 };\n        this.fileService.uploadByBase64(fileObj).subscribe(result => {// 上传图片到文件服务器\n            if (result) {\n                let origPath = FILE_SERVE_URL + result.origPath;\n                console.log(origPath);\n            }\n        });\n    }\n\n\n\n    /**\n     * 上传\n     */\n    upload(fileUrl, url, options, trustAllHosts?: boolean) {\n        let alert = this.alertCtrl.create({\n            title: '上传进度：0%',\n            enableBackdropDismiss: false,\n            buttons: ['后台上传']\n        });\n        alert.present();\n\n        const fileTransfer: TransferObject = this.transfer.create();\n\n        fileTransfer.onProgress((event: ProgressEvent) => {\n            let num = Math.floor(event.loaded / event.total * 100);\n            if (num === 100) {\n                alert.dismiss();\n            } else {\n                let title = document.getElementsByClassName('alert-title')[0];\n                title && (title.innerHTML = '上传进度：' + url + event.loaded + \" \" + event.total + '%');\n            }\n        });\n        return fileTransfer.upload(fileUrl, url, options, trustAllHosts).then((data) => {\n            console.log(data);\n            this.haveAffix = true;\n\n          }, (err) => {\n            // error\n            console.log(err);\n          }).catch((err) => {\n            console.log(err);\n            alert.dismiss();\n            this.nativeService.showToast(err);\n          });\n    }\n\n    dismiss() {\n        this.viewCtrl.dismiss();\n    }\n\n\n}\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mail-write/mail-write.ts"],"sourceRoot":""}